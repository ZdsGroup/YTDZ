<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="../../css/mui.min.css" />
		<link rel="stylesheet" type="text/css" href="../../css/mui.picker.min.css" />
		<link rel="stylesheet" type="text/css" href="../../css/common.css" />
		<link rel="stylesheet" type="text/css" href="../../css/yt.css" />
	</head>

	<body>
		<script src="../../js/mui.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/echarts/echarts.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/mui.picker.min.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			.mui-bar-tab {
				top: 45px !important;
				display: table;
				width: 100%;
				height: 50px;
				padding: 0;
				table-layout: fixed;
				border-top: 0;
				border-bottom: 0;
				-webkit-touch-callout: none;
			}
			
			.mui-content {
				background-color: rgba(255, 255, 255, 1);
			}
			
			.mui-tab-item {
				background-color: rgba(255, 255, 255, 1);
			}
			
			.mui-tab-label {
				padding-top: 5px !important;
				font-size: 14px !important;
			}
			
			a.mui-active {
				background-color: rgba(52, 152, 219, 1.0) !important;
				color: #FFFFFF !important;
			}
			
			a.sub-mui-active {
				background-color: rgba(247, 247, 247, 1.0);
				color: #8C8C8C;
				line-height: 0px;
			}
			
			.mui-control-content {
				background-color: white;
			}
			
			.mui-card {
				margin-left: 5px;
				margin-right: 5px;
			}
			
			.table {
				border: 1px solid #cad9ea;
				color: #666;
				height: 100%;
				width: 100%;
			}
			
			.table th {
				background-repeat: repeat-x;
				height: 30px;
			}
			
			.table td,
			.table th {
				border: 1px solid #cad9ea;
				padding: 0 1em 0;
				height: 25px;
			}
			
			.table .colmkey {
				width: 40%;
			}
			
			.table tr.alter {
				background-color: #f5fafe;
			}
			
			.ytdatepick {
				padding: 10px;
			}
			
			.ytdevscrollparent {
				position: relative;
				width: 100% !important;
				min-height: calc(100vh - 340px);
			}
			
			.chart {
				min-height: 300px;
				margin: 0px;
				padding: 0px;
			}
			
			.mui-navigate-right {
				color: #000000 !important;
			}
			
			.mui-control-item {
				line-height: inherit !important;
			}
			
			#slider-pictures {
				height: 270px;
				border-bottom: 1px solid black;
			}
			
			#slider {
				height: 100%;
				margin-bottom: 5px;
				overflow-y: scroll;
			}
		</style>
		<script type="text/javascript">
			mui.init();
		</script>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 class="mui-title">裂缝监测设备</h1>
		</header>
		<nav class="mui-bar mui-bar-tab">
			<a class="mui-tab-item mui-active" href="#item1mobile">
				<span class="yttabfont yt-bmwy"></span>
				<span class="mui-tab-label">设备详情</span>
			</a>
			<a class="mui-tab-item" href="#item2mobile">
				<span class="yttabfont yt-thsl"></span>
				<span class="mui-tab-label">变化过程线</span>
			</a>
			<a class="mui-tab-item" href="#item3mobile">
				<span class="yttabfont yt-yljc"></span>
				<span class="mui-tab-label">数据列表</span>
			</a>
			<a class="mui-tab-item" href="#item4mobile">
				<span class="yttabfont yt-lffx"></span>
				<span class="mui-tab-label">报警查询</span>
			</a>
		</nav>
		<div class="mui-content">
			<div id="item1mobile" class="mui-control-content mui-active">
				<div id="subitem1mobile" class="mui-control-content mui-active">
					<div class="mui-card">
						<div class="mui-card-header">施工安装示意图</div>
						<div class="mui-card-content">
							<div id="slider-pictures" class="mui-slider">
								<div class="mui-slider-group mui-slider-loop">
									<div class="mui-slider-item mui-slider-item-duplicate">
										<a href="#">
											<img src="../../photos/2.png">
											<p class="mui-slider-title">监测设备2</p>
										</a>
									</div>
									<div class="mui-slider-item">
										<a href="#">
											<img src="../../photos/dz1.png">
											<p class="mui-slider-title">地灾点公示牌</p>
										</a>
									</div>
									<div class="mui-slider-item">
										<a href="#">
											<img src="../../photos/1.png">
											<p class="mui-slider-title">监测设备1</p>
										</a>
									</div>
									<div class="mui-slider-item">
										<a href="#">
											<img src="../../photos/2.png">
											<p class="mui-slider-title">监测设备2</p>
										</a>
									</div>
									<!-- 额外增加的一个节点(循环轮播：最后一个节点是第一张轮播) -->
									<div class="mui-slider-item mui-slider-item-duplicate">
										<a href="#">
											<img src="../../photos/dz1.png">
											<p class="mui-slider-title">地灾点公示牌</p>
										</a>
									</div>
								</div>
								<div class="mui-slider-indicator mui-text-right">
									<div class="mui-indicator mui-active"></div>
									<div class="mui-indicator"></div>
									<div class="mui-indicator"></div>
									<div class="mui-indicator"></div>
								</div>
							</div>
						</div>
					</div>
					<div class="mui-card">
						<div class="mui-card-header">维护信息</div>
						<div class="mui-card-content">
							<div id="sc1" class="mui-scroll-wrapper" style="min-height: calc(100vh - 450px);position: relative;">
								<div class="mui-scroll">
									<ul class="mui-table-view">
										<li class="mui-table-view-cell">负责人：丁一一</li>
										<li class="mui-table-view-cell">联系电话：18532149807</li>
										<li class="mui-table-view-cell">维护周期：30min/次</li>
										<li class="mui-table-view-cell">上次维护时间：5分钟前最后一次上传数据</li>
										<li class="mui-table-view-cell">安装时间：2017-03-09 12:21:54</li>
										<li class="mui-table-view-cell">安装地点：贵溪市石膏矿</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div id="subitem2mobile" class="mui-control-content">
					<div class="mui-slider">
						<div class="mui-slider-indicator mui-segmented-control mui-segmented-control-inverted" style="width: 80%;margin: 10px auto;">
							<a class="mui-control-item mui-active" href="#devsubitem1mobile">
								<span class="mui-tab-label">同类型设备对比</span>
							</a>
							<a class="mui-control-item" href="#devsubitem2mobile">
								<span class="mui-tab-label">同类型设备对比</span>
							</a>
						</div>
						<div class="mui-slider-group">
							<div id="devsubitem1mobile" class="mui-slider-item mui-control-content mui-active">
								<div id="multDevChart" class="chart"></div>
								<form class="mui-input-group">
									<div class="mui-input-row">
										<a class="mui-navigate-right">
											<label>起始时间：</label>
											<div id="devstarttm" class="ytdatepick" data-options='{"type":"datetime","beginYear":2000,"endYear":2017}'>2017-04-12 08:00</div>
										</a>
									</div>
									<div class="mui-input-row">
										<a class="mui-navigate-right">
											<label>结束时间：</label>
											<div id="devendtm" class="ytdatepick" data-options='{"type":"datetime","beginYear":2000,"endYear":2017}'>2017-04-20 08:00</div>
										</a>
									</div>
								</form>
							</div>
							<div id="devsubitem2mobile" class="mui-slider-item mui-control-content">
								<div id="devChart" class="chart"></div>
								<form class="mui-input-group">
									<div class="mui-input-row">
										<a class="mui-navigate-right">
											<label>起始时间：</label>
											<div id="devstarttm" class="ytdatepick" data-options='{"type":"datetime","beginYear":2000,"endYear":2017}'>2017-04-12 08:00</div>
										</a>
									</div>
									<div class="mui-input-row">
										<a class="mui-navigate-right">
											<label>结束时间：</label>
											<div id="devendtm" class="ytdatepick" data-options='{"type":"datetime","beginYear":2000,"endYear":2017}'>2017-04-20 08:00</div>
										</a>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
				<div id="subitem3mobile" class="mui-control-content">
					<div class="mui-scroll-wrapper">
						<div class="mui-scroll">
							<table id="tablevalue" class="table">
								<tr>
									<th>序号</th>
									<th>通讯状态</th>
									<th>电池状态</th>
									<th>运行状态</th>
									<th>设备频率</th>

								</tr>
								<tr>
									<td>1</td>
									<td>正常</td>
									<td>正常</td>
									<td>正常</td>
									<td>30min/次</td>
								</tr>
								<tr>
									<td>2</td>
									<td>正常</td>
									<td>正常</td>
									<td>正常</td>
									<td>30min/次</td>
								</tr>
								<tr>
									<td>3</td>
									<td>正常</td>
									<td>正常</td>
									<td>正常</td>
									<td>30min/次</td>
								</tr>
								<tr>
									<td>4</td>
									<td>正常</td>
									<td>正常</td>
									<td>正常</td>
									<td>30min/次</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
				<div id="segmentedControl" class="mui-segmented-control" style="position: fixed;bottom: 0px;height: 25px;">
					<a class="mui-control-item mui-active" href="#subitem1mobile">
						项目详情
					</a>
					<a class="mui-control-item" href="#subitem2mobile">
						设备对比
					</a>
					<a class="mui-control-item" href="#subitem3mobile">
						设备状态
					</a>
				</div>
			</div>
			<div id="item2mobile" class="mui-control-content">
				<div id="realProChart" class="chart"></div>
				<form class="mui-input-group">
					<div class="mui-input-row">
						<a class="mui-navigate-right">
							<label>时间类型：</label>
							<div id="rlDevTMType" style="padding: 10px;">实时数据</div>
						</a>
					</div>
					<div class="mui-input-row">
						<a class="mui-navigate-right">
							<label>开始时间：</label>
							<div id="devstarttm" class="ytdatepick" data-options='{"type":"datetime","beginYear":2000,"endYear":2017}'>2017-04-12 08:00</div>
						</a>
					</div>
					<div class="mui-input-row">
						<a class="mui-navigate-right">
							<label>结束时间：</label>
							<div id="devendtm" class="ytdatepick" data-options='{"type":"datetime","beginYear":2000,"endYear":2017}'>2017-04-20 08:00</div>
						</a>
					</div>
				</form>
			</div>
			<div id="item3mobile" class="mui-control-content">
				<div class="ytdevscrollparent">
					<div class="mui-scroll-wrapper">
						<div class="mui-scroll">
							<table id="tablevalue" class="table">
								<tr>
									<th>序号</th>
									<th>裂缝长度(mm)</th>
									<th>时间</th>
								</tr>
								<tr>
									<td>1</td>
									<td>16.7</td>
									<td>2017/05/06 01:38:19</td>
								</tr>
								<tr>
									<td>2</td>
									<td>16.5</td>
									<td>2017/05/07 01:38:19</td>
								</tr>
								<tr>
									<td>3</td>
									<td>16.6</td>
									<td>2017/05/08 01:38:19</td>
								</tr>
								<tr>
									<td>4</td>
									<td>16.7</td>
									<td>2017/05/09 01:38:19</td>
								</tr>
								<tr>
									<td>5</td>
									<td>16.7</td>
									<td>2017/05/10 01:38:19</td>
								</tr>
								<tr>
									<td>6</td>
									<td>16.7</td>
									<td>2017/05/11 01:38:19</td>
								</tr>
								<tr>
									<td>7</td>
									<td>16.6</td>
									<td>2017/05/12 01:38:19</td>
								</tr>
								<tr>
									<td>8</td>
									<td>16.9</td>
									<td>2017/05/13 01:38:19</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
				<form class="mui-input-group">
					<div class="mui-input-row">
						<a class="mui-navigate-right">
							<label>时间类型：</label>
							<div id="rlDevTMType" style="padding: 10px;">实时数据</div>
						</a>
					</div>
					<div class="mui-input-row">
						<a class="mui-navigate-right">
							<label>开始时间：</label>
							<div id="devstarttm" class="ytdatepick" data-options='{"type":"datetime","beginYear":2000,"endYear":2017}'>2017-04-12 08:00</div>
						</a>
					</div>
					<div class="mui-input-row">
						<a class="mui-navigate-right">
							<label>结束时间：</label>
							<div id="devendtm" class="ytdatepick" data-options='{"type":"datetime","beginYear":2000,"endYear":2017}'>2017-04-20 08:00</div>
						</a>
					</div>
				</form>
			</div>
			<div id="item4mobile" class="mui-control-content">
				<div class="ytdevscrollparent">
					<div class="mui-scroll-wrapper">
						<div class="mui-scroll">
							<table id="tablevalue" class="table">
								<tr>
									<th>序号</th>
									<th>报警等级</th>
									<th>报警时间</th>
									<th>报警内容</th>
								</tr>
								<tr>
									<td>1</td>
									<td>红色</td>
									<td>2017/05/06 01:38:19</td>
									<td>发生无数据故障报警</td>
								</tr>
								<tr>
									<td>2</td>
									<td>红色</td>
									<td>2017/05/06 01:38:19</td>
									<td>发生无数据故障报警</td>
								</tr>
								<tr>
									<td>3</td>
									<td>红色</td>
									<td>2017/05/06 01:38:19</td>
									<td>发生无数据故障报警</td>
								</tr>
								<tr>
									<td>4</td>
									<td>红色</td>
									<td>2017/05/06 01:38:19</td>
									<td>发生无数据故障报警</td>
								</tr>
								<tr>
									<td>5</td>
									<td>红色</td>
									<td>2017/05/06 01:38:19</td>
									<td>发生无数据故障报警</td>
								</tr>
								<tr>
									<td>6</td>
									<td>红色</td>
									<td>2017/05/06 01:38:19</td>
									<td>发生无数据故障报警</td>
								</tr>
								<tr>
									<td>7</td>
									<td>红色</td>
									<td>2017/05/06 01:38:19</td>
									<td>发生无数据故障报警</td>
								</tr>
								<tr>
									<td>8</td>
									<td>红色</td>
									<td>2017/05/06 01:38:19</td>
									<td>发生无数据故障报警</td>
								</tr>
							</table>
						</div>
					</div>
				</div>
				<form class="mui-input-group">
					<div class="mui-input-row">
						<a class="mui-navigate-right">
							<label>时间类型：</label>
							<div id="rlDevTMType" style="padding: 10px;">实时数据</div>
						</a>
					</div>
					<div class="mui-input-row">
						<a class="mui-navigate-right">
							<label>开始时间：</label>
							<div id="devstarttm" class="ytdatepick" data-options='{"type":"datetime","beginYear":2000,"endYear":2017}'>2017-04-12 08:00</div>
						</a>
					</div>
					<div class="mui-input-row">
						<a class="mui-navigate-right">
							<label>结束时间：</label>
							<div id="devendtm" class="ytdatepick" data-options='{"type":"datetime","beginYear":2000,"endYear":2017}'>2017-04-20 08:00</div>
						</a>
					</div>
				</form>
			</div>
		</div>
		<script type="text/javascript">
			(function($) {
				var getOption = function(chartID) {
					var chartOption = null;
					var chartType = 'line';
					if(chartID == "multDevChart") {
						chartOption = {
							legend: {
								data: ['设备1', '设备2', '设备3', '设备4']
							},
							grid: {
								x: 35,
								x2: 10,
								y: 30,
								y2: 25
							},
							toolbox: {
								show: false,
								feature: {
									mark: {
										show: true
									},
									dataView: {
										show: true,
										readOnly: false
									},
									magicType: {
										show: true,
										type: ['line', 'bar']
									},
									restore: {
										show: true
									},
									saveAsImage: {
										show: true
									}
								}
							},
							calculable: false,
							xAxis: [{
								type: 'category',
								data: ['DX', 'DY', 'DH', '2D']
							}],
							yAxis: [{
								type: 'value',
								splitArea: {
									show: true
								},
								name: '距离(mm)'
							}],
							series: [{
								name: '设备1',
								type: chartType,
								smooth: true,
								data: [1, 2, 1, 2],
								itemStyle: {
									normal: {
										label: {
											show: true
										}
									}
								}
							}, {
								name: '设备2',
								type: chartType,
								smooth: true,
								data: [1, 1, 2, 1],
								itemStyle: {
									normal: {
										label: {
											show: true
										}
									}
								}
							}, {
								name: '设备3',
								type: chartType,
								smooth: true,
								data: [0, 2, 1, 3],
								itemStyle: {
									normal: {
										label: {
											show: true
										}
									}
								}
							}, {
								name: '设备4',
								type: chartType,
								smooth: true,
								data: [2, 1, 1, 2],
								itemStyle: {
									normal: {
										label: {
											show: true
										}
									}
								}
							}, ]
						};
					} else if(chartID == 'devChart') {
						chartOption = {
							legend: {
								data: ['2014', '2015', '2016', '2017']
							},
							grid: {
								x: 35,
								x2: 10,
								y: 30,
								y2: 25
							},
							toolbox: {
								show: false,
								feature: {
									mark: {
										show: true
									},
									dataView: {
										show: true,
										readOnly: false
									},
									magicType: {
										show: true,
										type: ['line', 'bar']
									},
									restore: {
										show: true
									},
									saveAsImage: {
										show: true
									}
								}
							},
							calculable: false,
							xAxis: [{
								type: 'category',
								data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']
							}],
							yAxis: [{
								type: 'value',
								splitArea: {
									show: true
								},
								name: '距离(mm)'
							}],
							series: [{
								name: '2014',
								type: chartType,
								smooth: true,
								data: [1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2],
								itemStyle: {
									normal: {
										label: {
											show: true
										}
									}
								}
							}, {
								name: '2015',
								type: chartType,
								smooth: true,
								data: [3, 4, 5, 2, 4, 2, 3, 2, 2, 2, 1, 2],
								itemStyle: {
									normal: {
										label: {
											show: true
										}
									}
								}
							}, {
								name: '2016',
								type: chartType,
								smooth: true,
								data: [3, 6, 7, 8, 4, 2, 3, 2, 2, 2, 1, 2],
								itemStyle: {
									normal: {
										label: {
											show: true
										}
									}
								}
							}, {
								name: '设备4',
								type: chartType,
								smooth: true,
								data: [3, 3, 2, 4, 4, 2, 3, 2, 2, 2, 1, 2],
								itemStyle: {
									normal: {
										label: {
											show: true
										}
									}
								}
							}]
						};
					} else if(chartID == 'realProChart') {
						chartOption = {
							legend: {
								data: ['监测数据1', '监测数据2']
							},
							grid: {
								x: 35,
								x2: 10,
								y: 30,
								y2: 25
							},
							toolbox: {
								show: false,
								feature: {
									mark: {
										show: true
									},
									dataView: {
										show: true,
										readOnly: false
									},
									magicType: {
										show: true,
										type: ['line', 'bar']
									},
									restore: {
										show: true
									},
									saveAsImage: {
										show: true
									}
								}
							},
							calculable: false,
							xAxis: [{
								type: 'category',
								data: ['2017-10-1', '2017-10-5', '2017-10-10', '2017-10-15', '2017-10-20', '2017-10-25', '2017-10-30', '2017-11-5', '2017-11-10', '2017-11-15', '2017-11-20', '2017-11-25']
							}],
							yAxis: [{
								type: 'value',
								splitArea: {
									show: true
								},
								name: '距离(mm)'
							}],
							series: [{
								name: '监测数据1',
								type: chartType,
								data: [5, 4, 6, 7, 6, 5, 6, 5, 7, 6, 4, 6],
								itemStyle: {
									normal: {
										label: {
											show: true
										}
									}
								}
							}, {
								name: '监测数据2',
								smooth: true,
								type: chartType,
								data: [3, 3, 2, 4, 4, 2, 3, 2, 2, 2, 1, 2],
								itemStyle: {
									normal: {
										label: {
											show: true
										}
									}
								}
							}]
						};
					}
					return chartOption;
				};
				var byId = function(id) {
					return document.getElementById(id);
				};
				var lineChart = echarts.init(byId('multDevChart'));
				lineChart.setOption(getOption('multDevChart'));

				lineChart = echarts.init(byId('devChart'));
				lineChart.setOption(getOption('devChart'));

				lineChart = echarts.init(byId('realProChart'));
				lineChart.setOption(getOption('realProChart'));

				$('.mui-scroll-wrapper').scroll({
					indicators: true //是否显示滚动条
				});
				$('.mui-scroll-wrapper').scroll({
					deceleration: 0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006
				});

				$('.mui-input-group').on('tap', '.ytdatepick', function() {　
					var dt = this;　　　　　　　
					var optionsJson = dt.getAttribute('data-options') || '{}';　　　　　　　　
					var options = JSON.parse(optionsJson);　　　　　　　　
					var picker = new mui.DtPicker(options);　　　　　　　　
					picker.show(function(rs) {　　　　　　　　　　
						dt.innerText = rs.text;　　　　　　　　　　
						picker.dispose();　　　　　　　　
					});
				}, false);
			})(mui);
		</script>
	</body>

</html>